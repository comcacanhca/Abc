but2.setOnClickListener(new View.OnClickListener() {
    @Override public void onClick(View view) {
        String message = editTextMessage.getText().toString();
        Uri imageUri = Uri.parse("android.resource://" + getPackageName() + "/" + R.drawable.a);
        Log.d("GOTFILE", filePath);
        sendMMS("0902096984", message, imageUri);
    }
});


private void sendMMS(String phoneNumber, String message, Uri imageUri) {
      try { Intent mmsIntent = new Intent(Intent.ACTION_SEND);
          byte[] imageData = readFileToByteArray(new File(imageUri.getPath()));
          SmsManager smsManager = SmsManager.getDefault();
          smsManager.sendMultimediaMessage(getApplicationContext(), Uri.fromFile(new File(imageUri.getPath())), null, null, null);
          Toast.makeText(getApplicationContext(), "MMS sent.", Toast.LENGTH_LONG).show();
      } catch (Exception e) {
          Toast.makeText(getApplicationContext(), "MMS failed, please try again.", Toast.LENGTH_LONG).show();
          e.printStackTrace();
      }
      Log.d("SENDMMS","DONE");
  }

private byte[] readFileToByteArray(File file) {
      FileInputStream fileInputStream = null;
      byte[] bFile = new byte[(int) file.length()];
      try { fileInputStream = new FileInputStream(file);
          fileInputStream.read(bFile); fileInputStream.close(); }
      catch (IOException e) { e.printStackTrace(); }
      return bFile; }
